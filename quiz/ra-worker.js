var N=Object.defineProperty;var E=(r,e)=>()=>(r&&(e=r(r=0)),e);var q=(r,e)=>{for(var t in e)N(r,t,{get:e[t],enumerable:!0})};function S(r,e){return new Promise(t=>{r.addEventListener("message",function a({data:s}){s==null||s.type!==e||(r.removeEventListener("message",a),t(s))})})}async function R(r,e,t){let a={type:"wasm_bindgen_worker_init",module:r,memory:e,receiver:t.receiver()};D=await Promise.all(Array.from({length:t.numThreads()},async()=>{let s=new Worker(new URL("./workerHelpers.js","https://rust-book.cs.brown.edu/quiz/"),{type:"module"});return s.postMessage(a),await S(s,"wasm_bindgen_worker_ready"),s})),t.build()}var D,F=E(()=>{"use strict";S(self,"wasm_bindgen_worker_init").then(async r=>{let e=await Promise.resolve().then(()=>(M(),I));await e.default(r.module,r.memory),postMessage({type:"wasm_bindgen_worker_ready"}),e.wbg_rayon_start_worker(r.receiver)})});var I={};q(I,{WorldState:()=>d,default:()=>W,initThreadPool:()=>z,start:()=>V,wbg_rayon_PoolBuilder:()=>m,wbg_rayon_start_worker:()=>B});function l(r){return b[r]}function H(r){r<36||(b[r]=v,v=r)}function c(r){let e=l(r);return H(r),e}function j(){return(k===null||k.buffer!==i.memory.buffer)&&(k=new Uint8Array(i.memory.buffer)),k}function h(r,e){return L.decode(j().slice(r,r+e))}function u(r){v===b.length&&b.push(b.length+1);let e=v;return v=b[e],b[e]=r,e}function x(r){let e=typeof r;if(e=="number"||e=="boolean"||r==null)return`${r}`;if(e=="string")return`"${r}"`;if(e=="symbol"){let s=r.description;return s==null?"Symbol":`Symbol(${s})`}if(e=="function"){let s=r.name;return typeof s=="string"&&s.length>0?`Function(${s})`:"Function"}if(Array.isArray(r)){let s=r.length,n="[";s>0&&(n+=x(r[0]));for(let o=1;o<s;o++)n+=", "+x(r[o]);return n+="]",n}let t=/\[object ([^\]]+)\]/.exec(toString.call(r)),a;if(t.length>1)a=t[1];else return toString.call(r);if(a=="Object")try{return"Object("+JSON.stringify(r)+")"}catch{return"Object"}return r instanceof Error?`${r.name}: ${r.message}
${r.stack}`:a}function g(r,e,t){if(t===void 0){let _=U.encode(r),w=e(_.length);return j().subarray(w,w+_.length).set(_),f=_.length,w}let a=r.length,s=e(a),n=j(),o=0;for(;o<a;o++){let _=r.charCodeAt(o);if(_>127)break;n[s+o]=_}if(o!==a){o!==0&&(r=r.slice(o)),s=t(s,a,a=o+r.length*3);let _=j().subarray(s+o,s+a),w=J(r,_);o+=w.written}return f=o,s}function T(){return(A===null||A.buffer!==i.memory.buffer)&&(A=new Int32Array(i.memory.buffer)),A}function V(){i.start()}function p(r,e){try{return r.apply(this,e)}catch(t){i.__wbindgen_exn_store(u(t))}}function z(r){var e=i.initThreadPool(r);return c(e)}function B(r){i.wbg_rayon_start_worker(r)}async function G(r,e){if(typeof Response=="function"&&r instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(r,e)}catch(a){if(r.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",a);else throw a}let t=await r.arrayBuffer();return await WebAssembly.instantiate(t,e)}else{let t=await WebAssembly.instantiate(r,e);return t instanceof WebAssembly.Instance?{instance:t,module:r}:t}}async function O(r,e){typeof r>"u"&&(r=new URL("wasm_demo_bg.wasm","https://rust-book.cs.brown.edu/quiz/"));let t={};t.wbg={},t.wbg.__wbindgen_object_drop_ref=function(n){c(n)},t.wbg.__wbindgen_string_new=function(n,o){var _=h(n,o);return u(_)},t.wbg.__wbindgen_object_clone_ref=function(n){var o=l(n);return u(o)},t.wbg.__wbg_new_68adb0d58759a4ed=function(){var n=new Object;return u(n)},t.wbg.__wbindgen_number_new=function(n){var o=n;return u(o)},t.wbg.__wbindgen_is_undefined=function(n){var o=l(n)===void 0;return o},t.wbg.__wbg_set_2e79e744454afade=function(n,o,_){l(n)[c(o)]=c(_)},t.wbg.__wbg_new_693216e109162396=function(){var n=new Error;return u(n)},t.wbg.__wbg_stack_0ddaca5d1abfb52f=function(n,o){var _=l(o).stack,w=g(_,i.__wbindgen_malloc,i.__wbindgen_realloc),y=f;T()[n/4+1]=y,T()[n/4+0]=w},t.wbg.__wbg_error_09919627ac0992f5=function(n,o){try{console.error(h(n,o))}finally{i.__wbindgen_free(n,o)}},t.wbg.__wbg_now_559193109055ebad=function(n){var o=l(n).now();return o},t.wbg.__wbg_new_949bbc1147195c4e=function(){var n=new Array;return u(n)},t.wbg.__wbg_newnoargs_be86524d73f67598=function(n,o){var _=new Function(h(n,o));return u(_)},t.wbg.__wbg_get_4d0f21c2f823742e=function(){return p(function(n,o){var _=Reflect.get(l(n),l(o));return u(_)},arguments)},t.wbg.__wbg_call_888d259a5fefc347=function(){return p(function(n,o){var _=l(n).call(l(o));return u(_)},arguments)},t.wbg.__wbg_self_c6fbdfc2918d5e58=function(){return p(function(){var n=self.self;return u(n)},arguments)},t.wbg.__wbg_window_baec038b5ab35c54=function(){return p(function(){var n=window.window;return u(n)},arguments)},t.wbg.__wbg_globalThis_3f735a5746d41fbd=function(){return p(function(){var n=globalThis.globalThis;return u(n)},arguments)},t.wbg.__wbg_global_1bc0b39582740e95=function(){return p(function(){var n=global.global;return u(n)},arguments)},t.wbg.__wbg_push_284486ca27c6aa8b=function(n,o){var _=l(n).push(l(o));return _},t.wbg.__wbg_new_342a24ca698edd87=function(n,o){var _=new Error(h(n,o));return u(_)},t.wbg.__wbindgen_debug_string=function(n,o){var _=x(l(o)),w=g(_,i.__wbindgen_malloc,i.__wbindgen_realloc),y=f;T()[n/4+1]=y,T()[n/4+0]=w},t.wbg.__wbindgen_throw=function(n,o){throw new Error(h(n,o))},t.wbg.__wbindgen_module=function(){var n=O.__wbindgen_wasm_module;return u(n)},t.wbg.__wbindgen_memory=function(){var n=i.memory;return u(n)},t.wbg.__wbg_startWorkers_04f63eca19916b8f=function(n,o,_){var w=R(c(n),c(o),m.__wrap(_));return u(w)},(typeof r=="string"||typeof Request=="function"&&r instanceof Request||typeof URL=="function"&&r instanceof URL)&&(r=fetch(r)),t.wbg.memory=e||new WebAssembly.Memory({initial:35,maximum:16384,shared:!0});let{instance:a,module:s}=await G(await r,t);return i=a.exports,O.__wbindgen_wasm_module=s,i.__wbindgen_start(),i}var i,b,v,L,k,f,U,J,A,d,m,W,M=E(()=>{"use strict";F();b=new Array(32).fill(void 0);b.push(void 0,null,!0,!1);v=b.length;L=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});L.decode();k=null;f=0,U=new TextEncoder("utf-8"),J=function(r,e){let t=U.encode(r);return e.set(t),{read:r.length,written:t.length}};A=null;d=class{static __wrap(e){let t=Object.create(d.prototype);return t.ptr=e,t}__destroy_into_raw(){let e=this.ptr;return this.ptr=0,e}free(){let e=this.__destroy_into_raw();i.__wbg_worldstate_free(e)}constructor(){var e=i.worldstate_new();return d.__wrap(e)}init(e,t,a,s){var n=g(e,i.__wbindgen_malloc,i.__wbindgen_realloc),o=f,_=g(t,i.__wbindgen_malloc,i.__wbindgen_realloc),w=f,y=g(a,i.__wbindgen_malloc,i.__wbindgen_realloc),$=f,P=g(s,i.__wbindgen_malloc,i.__wbindgen_realloc),C=f;i.worldstate_init(this.ptr,n,o,_,w,y,$,P,C)}update(e){var t=g(e,i.__wbindgen_malloc,i.__wbindgen_realloc),a=f,s=i.worldstate_update(this.ptr,t,a);return c(s)}inlay_hints(){var e=i.worldstate_inlay_hints(this.ptr);return c(e)}completions(e,t){var a=i.worldstate_completions(this.ptr,e,t);return c(a)}hover(e,t){var a=i.worldstate_hover(this.ptr,e,t);return c(a)}code_lenses(){var e=i.worldstate_code_lenses(this.ptr);return c(e)}references(e,t,a){var s=i.worldstate_references(this.ptr,e,t,a);return c(s)}prepare_rename(e,t){var a=i.worldstate_prepare_rename(this.ptr,e,t);return c(a)}rename(e,t,a){var s=g(a,i.__wbindgen_malloc,i.__wbindgen_realloc),n=f,o=i.worldstate_rename(this.ptr,e,t,s,n);return c(o)}signature_help(e,t){var a=i.worldstate_signature_help(this.ptr,e,t);return c(a)}definition(e,t){var a=i.worldstate_definition(this.ptr,e,t);return c(a)}type_definition(e,t){var a=i.worldstate_type_definition(this.ptr,e,t);return c(a)}document_symbols(){var e=i.worldstate_document_symbols(this.ptr);return c(e)}type_formatting(e,t,a){var s=i.worldstate_type_formatting(this.ptr,e,t,a.codePointAt(0));return c(s)}folding_ranges(){var e=i.worldstate_folding_ranges(this.ptr);return c(e)}goto_implementation(e,t){var a=i.worldstate_goto_implementation(this.ptr,e,t);return c(a)}},m=class{static __wrap(e){let t=Object.create(m.prototype);return t.ptr=e,t}__destroy_into_raw(){let e=this.ptr;return this.ptr=0,e}free(){let e=this.__destroy_into_raw();i.__wbg_wbg_rayon_poolbuilder_free(e)}numThreads(){var e=i.wbg_rayon_poolbuilder_numThreads(this.ptr);return e>>>0}receiver(){var e=i.wbg_rayon_poolbuilder_receiver(this.ptr);return e}build(){i.wbg_rayon_poolbuilder_build(this.ptr)}};W=O});M();var K=async()=>{await W();let r=new d;onmessage=e=>{let{which:t,args:a,id:s}=e.data,n=r[t](...a);postMessage({id:s,result:n})}};K().then(()=>{postMessage({id:"ra-worker-ready"})});
